<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.lab1024.sa.admin.module.business.smartWatch.response.dao.responseDAO">
    <select id="queryPage" resultType="net.lab1024.sa.admin.module.business.smartWatch.response.domain.ResponseVO">
        SELECT
        *
        FROM response
        <where>
            <if test="queryForm.questionId != null">
                AND response.date= #{queryForm.date}
            </if>
            <if test="queryForm.keyword != null and queryForm.keyword != ''">
                AND ( INSTR(response.question,#{queryForm.keyword})
                OR INSTR(response.response,#{queryForm.keyword})
                )
            </if>
            <if test="queryForm.time != null">
                AND response.time= #{queryForm.time}
            </if>
            <if test="queryForm.questionid != null">
                AND response.questionID= #{queryForm.questionid}
            </if>
            <if test="queryForm.answerid != null">
                AND response.answerID= #{queryForm.answerid}
            </if>
        </where>
        order by response._id asc
    </select>

    <select id="update"  >
        UPDATE response SET
                response.date = #{updateForm.date},
                response.time = #{updateForm.time},
                response.responseTime = #{updateForm.responseTime},
                response.question = #{updateForm.question},
                response.response=#{updateForm.response}
        <where>
            response._id = #{updateForm.id}
        </where>
    </select>


</mapper>